<!DOCTYPE html>

<head>
<meta charset="utf-8">
<title>File Reader</title>
<!--style, wygląd-->
<link rel="stylesheet" type="text/css" href="style.css" />
<!--funkcja wywołujaca komunikat z tytułem pliku podczas dodawania/przeglądania dokumentów-->
<script type="text/javascript">

	function init(){
		document.getElementById("plik").addEventListener("change",zmianaPliku);
	}

	window.addEventListener("load",init);
	//funkcja ustanawiajaca POCZATEK i KONIEC pobranej treści z pliku.
	function zmianaPliku(plik){
		var nowyplik2 = plik.target.files[0];
		//parametry POCZATEK i KONIEC
		var pocz = 0;
		var koniec = 20;
		//wyrażenie warunkowe sprawdzajace TYP pliku.
		if(nowyplik2.type != "text/plain" ){
			alert("To nie jest plik tekstowy");
			return;
		}
		//funkcja wyswietlajaca treść komunikatu na stronie zamiast okienka ALERT.
		var reader = new FileReader();
		//pamietaj utworzyć plik tekstowy o nazwie "nowyplik2" z komunikatem!
		reader.onload = function(zdarzenie){
			var zawartosc = zdarzenie.target.result;
			document.getElementById("tresc").innerHTML = zawartosc;
		}
		//wyrażenie wyswietlajace POCZATEK i KONIEC tresci z pliku.
		var fragment = nowyplik2.slice(pocz,koniec);
		//wywołanie funkcji.
		reader.readAsText(fragment);
		
	}

</script>

</head>

<body>
<!--przycisk PRZEGLADAJ do dodawania plików-->
    <input type="file" id="plik" />
<!--div z treścia komunikatu do wyswietlenia zamiast okienka ALERT-->
	<div id="tresc"></div>

</body>
</html>